<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5; 
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .test-header {
            background: #28a745;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .test-step {
            background: #e7f3ff;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .test-step h4 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
        
        .problem-found {
            background: #f8d7da;
            border: 1px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .problem-found h4 {
            color: #721c24;
            margin: 0 0 10px 0;
        }
        
        .solution {
            background: #d4edda;
            border: 1px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }
        
        .solution h4 {
            color: #155724;
            margin: 0 0 10px 0;
        }
        
        .debug-info {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        
        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üîß –ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê!</h1>
            <h2>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –∫–∞–∫ –ø—É—Å—Ç—ã–µ GIF</h2>
        </div>
        
        <div class="problem-found">
            <h4>üéØ –ü—Ä–æ–±–ª–µ–º–∞:</h4>
            <p><strong>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –∫–∞–∫ –ø—É—Å—Ç—ã–µ GIF-—Ñ–∞–π–ª—ã:</strong></p>
            <code>data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==</code>
            <p>–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ <code>CFile::ResizeImageGet</code> –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ.</p>
        </div>
        
        <div class="solution">
            <h4>‚úÖ –†–µ—à–µ–Ω–∏–µ:</h4>
            <ul>
                <li>‚úÖ <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞:</strong> –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ <code>CFile::GetFileArray</code></li>
                <li>‚úÖ <strong>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ–π GIF</li>
                <li>‚úÖ <strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–µ—Å–∞–π–∑–∞:</strong> –ü–æ–ø—Ä–æ–±—É–µ–º <code>BX_RESIZE_IMAGE_EXACT</code></li>
                <li>‚úÖ <strong>Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª:</strong> –ï—Å–ª–∏ —Ä–µ—Å–∞–π–∑ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
                <li>‚úÖ <strong>–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞:</strong> –ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏</li>
            </ul>
        </div>
        
        <div class="test-step">
            <h4>üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h4>
            <ol>
                <li><strong>–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ö–ü</strong></li>
                <li><strong>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)</strong></li>
                <li><strong>–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: "—Å–≤–µ—Ç")</strong></li>
                <li><strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</strong>
                    <ul>
                        <li>üì∏ –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</li>
                        <li>üîç –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</li>
                        <li>üì¶ –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ—Ç - –±—É–¥–µ—Ç placeholder —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</li>
                    </ul>
                </li>
            </ol>
        </div>
        
        <div class="debug-info">
            <strong>–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ:</strong><br>
            1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ <code>CFile::GetFileArray($photoId)</code><br>
            2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö GIF: <code>$img['src'] !== 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='</code><br>
            3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —Ä–µ—Å–∞–π–∑–∞: <code>BX_RESIZE_IMAGE_EXACT</code><br>
            4. Fallback –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: <code>$fileInfo['SRC']</code><br>
            5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
        </div>
        
        <div class="test-step">
            <h4>üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
            <p>–¢–µ–ø–µ—Ä—å –≤ –∂–∏–≤–æ–º –ø–æ–∏—Å–∫–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:</p>
            <ul>
                <li>‚úÖ <strong>–†–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤</strong> (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ –±–∞–∑–µ)</li>
                <li>‚úÖ <strong>Placeholder —Å –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</strong> (–µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ—Ç)</li>
                <li>‚úÖ <strong>–ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ –∏ –∂–µ–ª—Ç—ã–π —Ñ–æ–Ω</strong> –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–≤—Ä–µ–º–µ–Ω–Ω–æ)</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <button onclick="window.open('test_debug_images.html', '_blank')">üîç –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç –æ—Ç–ª–∞–¥–∫–∏</button>
            <button onclick="window.open('test_live_search.html', '_blank')">üß™ –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç –∂–∏–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞</button>
        </div>
    </div>
</body>
</html>
